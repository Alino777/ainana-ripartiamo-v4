<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Accesso - Ainana</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body { background-color: black; color: white; font-family: 'Inter', sans-serif; text-align: center; padding: 2rem; }
    input, button { padding: 0.6rem; font-size: 1rem; border-radius: 8px; border: none; margin-top: 1rem; }
    img.pineapple { width: 100px; opacity: 0.9; margin-top: 2rem; }
  </style>
</head>
<body>
  <h2>C’è chi esercita una professione, e chi lascia un segno. Il suo contributo alla nutrizione in Italia non è passato inosservato: oggi è tra i pochissimi scelti per scoprire un progetto destinato a cambiare le regole del gioco.</h2>
  <h1>INSERISCI IL TUO CODICE</h1>
  <form id="access-form">
    <input type="text" id="code" placeholder="Codice di accesso" required />
    <br />
    <button type="submit">Accedi</button>
  </form>
  <img src="ananas.gif" class="pineapple" alt="ananas" />

  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC69R3ojbm_QvhC-lzj2qtI1ce_eidxFFY",
      authDomain: "ainanaaccessi.firebaseapp.com",
      databaseURL: "https://ainanaaccessi-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "ainanaaccessi",
      storageBucket: "ainanaaccessi.firebasestorage.app",
      messagingSenderId: "39413654454",
      appId: "1:39413654454:web:58fe34ba829bcea63c5717"
    };

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    const validCodesList = [
  "AINANA02", "AINANA03", "AINANA04", "AINANA05", "AINANA06", "AINANA07", "AINANA08", "AINANA09",
  "AINANA2", "AINANA3", "AINANA4", "AINANA5", "AINANA6", "AINANA7", "AINANA8", "AINANA9",
  "AI2NANA", "AI3NANA", "AI4NANA", "AI5NANA", "AI6NANA", "AI7NANA", "AI8NANA", "AI9NANA",
  "AI02NANA", "AI03NANA", "AI04NANA", "AI05NANA", "AI06NANA", "AI07NANA", "AI08NANA", "AI09NANA",
  "NANA02AI", "NANA03AI", "NANA04AI", "NANA05AI", "NANA06AI", "NANA07AI", "NANA08AI", "NANA09AI",
  "NANA2AI", "NANA3AI", "NANA4AI", "NANA5AI", "NANA6AI", "NANA7AI", "NANA8AI", "NANA9AI",
  "IA02NANA", "IA03NANA", "IA04NANA", "IA05NANA", "IA06NANA", "IA07NANA", "IA08NANA", "IA09NANA",
  "IA2NANA", "IA3NANA", "IA4NANA", "IA5NANA", "IA6NANA", "IA7NANA", "IA8NANA", "IA9NANA",
  "IA1NANA02", "IA1NANA03", "IA1NANA04", "IA1NANA05", "IA1NANA06", "IA1NANA07", "IA1NANA08", "IA1NANA09",
  "IA1NANA2", "IA1NANA3", "IA1NANA4", "IA1NANA5", "IA1NANA6", "IA1NANA7", "IA1NANA8", "IA1NANA9",
  "AI1NA02", "AI2NA03", "AI3NA04", "AI4NA05", "AI5NA06", "AI6NA07", "AI7NA08", "AI8NA09",
  "02AINANA", "03AINANA", "04AINANA", "05AINANA", "06AINANA", "07AINANA", "08AINANA", "09AINANA",
  "2AINANA", "3AINANA", "4AINANA", "5AINANA", "6AINANA", "7AINANA", "8AINANA", "9AINANA",
  "1AINANA02", "1AINANA03", "1AINANA04", "1AINANA05", "1AINANA06", "1AINANA07", "1AINANA08", "1AINANA09",
  "1AINANA2", "1AINANA3", "1AINANA4", "1AINANA5", "1AINANA6", "1AINANA7", "1AINANA8", "1AINANA9",
  "IA2NANA02", "IA2NANA03", "IA2NANA04", "IA2NANA05", "IA2NANA06", "IA2NANA07", "IA2NANA08", "IA2NANA09",
  "IA2NANA2", "IA2NANA3", "IA2NANA4", "IA2NANA5", "IA2NANA6", "IA2NANA7", "IA2NANA8", "IA2NANA9",
  "AI2NANA02", "AI2NANA03", "AI2NANA04", "AI2NANA05", "AI2NANA06", "AI2NANA07", "AI2NANA08", "AI2NANA09",
  "AI2NANA2", "AI2NANA3", "AI2NANA4", "AI2NANA5", "AI2NANA6", "AI2NANA7", "AI2NANA8", "AI2NANA9",
  "NANA2AI02", "NANA2AI03", "NANA2AI04", "NANA2AI05", "NANA2AI06", "NANA2AI07", "NANA2AI08", "NANA2AI09",
  "NANA2AI2", "NANA2AI3", "NANA2AI4", "NANA2AI5", "NANA2AI6", "NANA2AI7", "NANA2AI8", "NANA2AI9",
  "NANA2IA02", "NANA2IA03", "NANA2IA04", "NANA2IA05", "NANA2IA06", "NANA2IA07", "NANA2IA08", "NANA2IA09",
  "NANA2IA2", "NANA2IA3", "NANA2IA4", "NANA2IA5", "NANA2IA6", "NANA2IA7", "NANA2IA8", "NANA2IA9",
  "NANA02IA2", "NANA03IA2", "NANA04IA2", "NANA05IA2", "NANA06IA2", "NANA07IA2", "NANA08IA2", "NANA09IA2",
  "NANA3IA2", "NANA4IA2", "NANA5IA2", "NANA6IA2", "NANA7IA2", "NANA8IA2", "NANA9IA2",
  "NANA02AI2", "NANA03AI2", "NANA04AI2", "NANA05AI2", "NANA06AI2", "NANA07AI2", "NANA08AI2", "NANA09AI2",
  "NANA3AI2", "NANA4AI2", "NANA5AI2", "NANA6AI2", "NANA7AI2", "NANA8AI2", "NANA9AI2"
];


    document.getElementById('access-form').addEventListener('submit', validateCode);

    function validateCode(event) {
      event.preventDefault();

      const code = document.getElementById('code').value.trim();
      if (validCodesList.includes(code)) {
        console.log("✅ Codice valido: " + code);
        firebase.database().ref('accessi/' + code + '/' + Date.now()).set({
          codice: code,
          nome: 'Utente Ainana',
          dataOra: new Date().toISOString()
        }).then(() => {
          console.log('✅ Salvato su Firebase');
          window.location.href = 'video.html';
        }).catch(error => {
          console.error('❌ Errore di salvataggio:', error);
          alert('Errore nella registrazione accesso.');
        });
      } else {
        console.log("⚠️ Codice NON valido inserito");
        alert("Codice errato. Riprova.");
      }
    }
  </script>
</body>
</html>

